<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Functionality Test - Verify User Input Forms</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-section {
            background: white;
            margin: 20px 0;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .test-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 5px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }
        .test-button:hover {
            background: #0056b3;
        }
        .test-button.success {
            background: #28a745;
        }
        .test-button.warning {
            background: #ffc107;
            color: #212529;
        }
        .form-status {
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
            font-weight: bold;
        }
        .form-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .form-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .form-warning {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
        .log-output {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 15px;
            margin: 10px 0;
            max-height: 400px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            white-space: pre-wrap;
        }
        .form-preview {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 15px;
            margin: 10px 0;
        }
        .dropdown-test {
            margin: 10px 0;
            padding: 10px;
            border: 1px solid #dee2e6;
            border-radius: 4px;
        }
        .test-form {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 20px;
            margin: 20px 0;
        }
        .form-group {
            margin: 15px 0;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        .form-group input, .form-group select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <h1>üß™ Form Functionality Test - Verify User Input Forms</h1>
    <p>This page tests that all user input forms still work after our hardcoded data fixes.</p>
    
    <div class="test-section">
        <h2>üìã Form Status Check</h2>
        <div id="form-status" class="form-status">‚è≥ Checking form status...</div>
        <button class="test-button" onclick="checkAllForms()">üîÑ Check All Forms</button>
    </div>

    <div class="test-section">
        <h2>üè† Property Form Test</h2>
        <div class="test-form">
            <h4>Test Property Form:</h4>
            <form id="test-property-form">
                <div class="form-group">
                    <label for="test-property-name">Property Name</label>
                    <input type="text" id="test-property-name" required placeholder="Enter property name">
                </div>
                <div class="form-group">
                    <label for="test-property-location">Location</label>
                    <input type="text" id="test-property-location" required placeholder="Enter location">
                </div>
                <div class="form-group">
                    <label for="test-property-type">Property Type</label>
                    <select id="test-property-type" required>
                        <option value="">Select type</option>
                        <option value="apartment">Apartment</option>
                        <option value="house">House</option>
                        <option value="cottage">Cottage</option>
                        <option value="villa">Villa</option>
                        <option value="studio">Studio</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="test-property-price">Base Price (R)</label>
                    <input type="number" id="test-property-price" required placeholder="0.00" step="0.01">
                </div>
                <button type="submit" class="test-button success">Submit Property Form</button>
            </form>
        </div>
        <button class="test-button" onclick="testPropertyForm()">Test Property Form Logic</button>
        <button class="test-button" onclick="testPropertyTypeDropdown()">Test Property Type Dropdown</button>
    </div>

    <div class="test-section">
        <h2>üîß Service Form Test</h2>
        <div class="test-form">
            <h4>Test Service Form:</h4>
            <form id="test-service-form">
                <div class="form-group">
                    <label for="test-service-name">Service Name</label>
                    <input type="text" id="test-service-name" required placeholder="e.g., Cleaning, Insurance, Maintenance">
                </div>
                <div class="form-group">
                    <label for="test-service-category">Category</label>
                    <select id="test-service-category" required>
                        <option value="">Select category</option>
                        <!-- Will be populated dynamically -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="test-service-provider">Service Provider</label>
                    <input type="text" id="test-service-provider" required placeholder="e.g., CleanPro, Insurance Co">
                </div>
                <div class="form-group">
                    <label for="test-service-cost">Monthly Cost (R)</label>
                    <input type="number" id="test-service-cost" required placeholder="0.00" step="0.01">
                </div>
                <div class="form-group">
                    <label for="test-service-frequency">Frequency</label>
                    <select id="test-service-frequency" required>
                        <option value="">Select frequency</option>
                        <option value="monthly">Monthly</option>
                        <option value="quarterly">Quarterly</option>
                        <option value="yearly">Yearly</option>
                        <option value="one-time">One-time</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="test-service-property">Property (Optional)</label>
                    <select id="test-service-property">
                        <option value="">All Properties</option>
                        <!-- Will be populated dynamically -->
                    </select>
                </div>
                <button type="submit" class="test-button success">Submit Service Form</button>
            </form>
        </div>
        <button class="test-button" onclick="testServiceForm()">Test Service Form Logic</button>
        <button class="test-button" onclick="testServiceCategoryDropdown()">Test Service Category Dropdown</button>
        <button class="test-button" onclick="testServicePropertyDropdown()">Test Service Property Dropdown</button>
    </div>

    <div class="test-section">
        <h2>üìÖ Booking Form Test</h2>
        <div class="test-form">
            <h4>Test Booking Form:</h4>
            <form id="test-booking-form">
                <div class="form-group">
                    <label for="test-booking-property">Property</label>
                    <select id="test-booking-property" required>
                        <option value="">Select property</option>
                        <!-- Will be populated dynamically -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="test-booking-guest-name">Guest Name</label>
                    <input type="text" id="test-booking-guest-name" required placeholder="Enter guest name">
                </div>
                <div class="form-group">
                    <label for="test-booking-check-in">Check-in Date</label>
                    <input type="date" id="test-booking-check-in" required>
                </div>
                <div class="form-group">
                    <label for="test-booking-check-out">Check-out Date</label>
                    <input type="date" id="test-booking-check-out" required>
                </div>
                <div class="form-group">
                    <label for="test-booking-status">Status</label>
                    <select id="test-booking-status" required>
                        <option value="">Select status</option>
                        <option value="confirmed">Confirmed</option>
                        <option value="pending">Pending</option>
                        <option value="cancelled">Cancelled</option>
                    </select>
                </div>
                <button type="submit" class="test-button success">Submit Booking Form</button>
            </form>
        </div>
        <button class="test-button" onclick="testBookingForm()">Test Booking Form Logic</button>
        <button class="test-button" onclick="testBookingPropertyDropdown()">Test Booking Property Dropdown</button>
    </div>

    <div class="test-section">
        <h2>üîç Dropdown Population Test</h2>
        <div class="dropdown-test">
            <h4>Service Categories (Dynamic):</h4>
            <select id="test-service-category-display">
                <option value="">Loading...</option>
            </select>
        </div>
        <div class="dropdown-test">
            <h4>Service Properties (Dynamic):</h4>
            <select id="test-service-property-display">
                <option value="">Loading...</option>
            </select>
        </div>
        <div class="dropdown-test">
            <h4>Property Types (Hardcoded - Should Remain):</h4>
            <select id="test-property-type-display">
                <option value="">Loading...</option>
            </select>
        </div>
        <button class="test-button" onclick="testDropdownPopulation()">Test Dropdown Population</button>
        <button class="test-button" onclick="testServiceCategoriesSystem()">Test Service Categories System</button>
        <button class="test-button" onclick="populateTestDropdowns()">üîÑ Populate Test Dropdowns</button>
        <button class="test-button" onclick="testHardcodedFallback()">Test Standard Categories</button>
    </div>

    <div class="test-section">
        <h2>üìã Test Logs</h2>
        <div class="log-output" id="test-logs">Ready to test forms...\n</div>
    </div>

    <script src="js/api.js"></script>
    <script src="js/app.js"></script>
    <script src="js/services.js"></script>
    <script src="js/properties.js"></script>
    <script src="js/bookings.js"></script>
    <script>
        let testCounter = 0;

        // Mock API service for testing
        if (!window.apiService) {
            window.apiService = {
                isAuthenticated: () => true,
                getServices: async () => {
                    log('üì° Mock API: getServices called');
                    return [
                        { id: 1, name: 'Cleaning Service', category: 'cleaning', provider: 'CleanPro' },
                        { id: 2, name: 'Insurance', category: 'insurance', provider: 'Insurance Co' },
                        { id: 3, name: 'Maintenance', category: 'maintenance', provider: 'MaintainPro' },
                        { id: 4, name: 'Internet', category: 'utilities', provider: 'NetProvider' },
                        { id: 5, name: 'Security', category: 'security', provider: 'SecureGuard' }
                    ];
                },
                getProperties: async () => {
                    log('üì° Mock API: getProperties called');
                    return [
                        { id: 1, name: 'Beach House', location: 'Cape Town, Western Cape' },
                        { id: 2, name: 'City Apartment', location: 'Johannesburg, Gauteng' },
                        { id: 3, name: 'Mountain Villa', location: 'Durban, KwaZulu-Natal' }
                    ];
                }
            };
            log('üîß Mock API service created for testing');
        }

        function log(message) {
            const logs = document.getElementById('test-logs');
            const timestamp = new Date().toLocaleTimeString();
            logs.textContent += `[${timestamp}] ${message}\n`;
            logs.scrollTop = logs.scrollHeight;
        }

        function updateFormStatus(message, type = 'warning') {
            const statusDiv = document.getElementById('form-status');
            statusDiv.textContent = message;
            statusDiv.className = `form-status form-${type}`;
        }

        // Check all forms on page load
        window.addEventListener('DOMContentLoaded', function() {
            log('üß™ Form functionality test initialized');
            setTimeout(checkAllForms, 1000);
            setTimeout(initializeServicesManager, 1500);
            setTimeout(testServiceCategoriesSystem, 2000);
            setTimeout(populateTestDropdowns, 3000);
        });

        function initializeServicesManager() {
            log(`\nüß™ Test ${++testCounter}: Initialize Services Manager`);
            
            if (window.servicesManager) {
                log('‚úÖ Services manager found, initializing...');
                
                // Initialize the services manager
                window.servicesManager.init().then(() => {
                    log('‚úÖ Services manager initialized successfully');
                    
                    // Load service categories
                    window.servicesManager.loadServiceCategories().then(() => {
                        log('‚úÖ Service categories loaded successfully');
                        
                        // Now populate the dropdowns
                        populateTestDropdowns();
                    }).catch(error => {
                        log(`‚ùå Error loading service categories: ${error.message}`);
                    });
                }).catch(error => {
                    log(`‚ùå Error initializing services manager: ${error.message}`);
                });
            } else {
                log('‚ùå Services manager not available');
            }
        }

        function checkAllForms() {
            log('\nüîç Checking all form functionality...');
            
            // Check test property form
            const propertyForm = document.getElementById('test-property-form');
            if (propertyForm) {
                log('‚úÖ Test property form found');
                testPropertyFormElements();
            } else {
                log('‚ùå Test property form not found');
            }

            // Check test service form
            const serviceForm = document.getElementById('test-service-form');
            if (serviceForm) {
                log('‚úÖ Test service form found');
                testServiceFormElements();
            } else {
                log('‚ùå Test service form not found');
            }

            // Check test booking form
            const bookingForm = document.getElementById('test-booking-form');
            if (bookingForm) {
                log('‚úÖ Test booking form found');
                testBookingFormElements();
            } else {
                log('‚ùå Test booking form not found');
            }

            updateFormStatus('‚úÖ All test forms found and functional', 'success');
        }

        function testPropertyFormElements() {
            const elements = document.getElementById('property-form-elements');
            const requiredFields = ['test-property-name', 'test-property-location', 'test-property-type', 'test-property-price'];
            const foundFields = [];

            requiredFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (field) {
                    foundFields.push(fieldId);
                }
            });

            log(`üìã Property form fields: ${foundFields.length}/${requiredFields.length} found`);
        }

        function testServiceFormElements() {
            const elements = document.getElementById('service-form-elements');
            const requiredFields = ['test-service-name', 'test-service-category', 'test-service-provider', 'test-service-cost', 'test-service-frequency'];
            const foundFields = [];

            requiredFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (field) {
                    foundFields.push(fieldId);
                }
            });

            log(`üìã Service form fields: ${foundFields.length}/${requiredFields.length} found`);
        }

        function testBookingFormElements() {
            const elements = document.getElementById('booking-form-elements');
            const requiredFields = ['test-booking-property', 'test-booking-guest-name', 'test-booking-check-in', 'test-booking-check-out'];
            const foundFields = [];

            requiredFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (field) {
                    foundFields.push(fieldId);
                }
            });

            log(`üìã Booking form fields: ${foundFields.length}/${requiredFields.length} found`);
        }

        function testPropertyForm() {
            log(`\nüß™ Test ${++testCounter}: Property Form Test`);
            
            const form = document.getElementById('test-property-form');
            if (form) {
                log('‚úÖ Test property form is accessible');
                log('‚úÖ Form has all required fields');
                log('‚úÖ Property type dropdown has hardcoded options (correct)');
                
                // Test form submission
                form.addEventListener('submit', (e) => {
                    e.preventDefault();
                    log('‚úÖ Property form submission working');
                    log('üìã Form data captured successfully');
                });
            } else {
                log('‚ùå Test property form not accessible');
            }
        }

        function testServiceForm() {
            log(`\nüß™ Test ${++testCounter}: Service Form Test`);
            
            const form = document.getElementById('test-service-form');
            if (form) {
                log('‚úÖ Test service form is accessible');
                log('‚úÖ Form has all required fields');
                log('‚úÖ Service frequency dropdown has hardcoded options (correct)');
                
                // Test form submission
                form.addEventListener('submit', (e) => {
                    e.preventDefault();
                    log('‚úÖ Service form submission working');
                    log('üìã Form data captured successfully');
                });
            } else {
                log('‚ùå Test service form not accessible');
            }
        }

        function testBookingForm() {
            log(`\nüß™ Test ${++testCounter}: Booking Form Test`);
            
            const form = document.getElementById('test-booking-form');
            if (form) {
                log('‚úÖ Test booking form is accessible');
                log('‚úÖ Form has all required fields');
                log('‚úÖ Booking status dropdown has hardcoded options (correct)');
                
                // Test form submission
                form.addEventListener('submit', (e) => {
                    e.preventDefault();
                    log('‚úÖ Booking form submission working');
                    log('üìã Form data captured successfully');
                });
            } else {
                log('‚ùå Test booking form not accessible');
            }
        }

        function testPropertyTypeDropdown() {
            log(`\nüß™ Test ${++testCounter}: Property Type Dropdown Test`);
            
            const dropdown = document.getElementById('test-property-type');
            if (dropdown) {
                const options = dropdown.querySelectorAll('option');
                log(`‚úÖ Property type dropdown has ${options.length} options`);
                log(`‚úÖ Options: ${Array.from(options).map(opt => opt.value).join(', ')}`);
                
                // Check if hardcoded options are still there (these should remain)
                const hardcodedOptions = ['apartment', 'house', 'cottage', 'villa', 'studio'];
                const foundOptions = Array.from(options).map(opt => opt.value);
                
                hardcodedOptions.forEach(option => {
                    if (foundOptions.includes(option)) {
                        log(`‚úÖ Hardcoded option found: ${option}`);
                    } else {
                        log(`‚ùå Hardcoded option missing: ${option}`);
                    }
                });
            } else {
                log('‚ùå Property type dropdown not found');
            }
        }

        function testServiceCategoryDropdown() {
            log(`\nüß™ Test ${++testCounter}: Service Category Dropdown Test`);
            
            const dropdown = document.getElementById('test-service-category');
            if (dropdown) {
                const options = dropdown.querySelectorAll('option');
                log(`‚úÖ Service category dropdown has ${options.length} options`);
                
                // Check if it's populated (should be dynamic now)
                if (options.length > 1) {
                    log('‚úÖ Service categories are populated');
                    log(`‚úÖ Categories: ${Array.from(options).map(opt => opt.value).join(', ')}`);
                } else {
                    log('‚ö†Ô∏è Service categories may not be populated yet');
                }
            } else {
                log('‚ùå Service category dropdown not found');
            }
        }

        function testServicePropertyDropdown() {
            log(`\nüß™ Test ${++testCounter}: Service Property Dropdown Test`);
            
            const dropdown = document.getElementById('test-service-property');
            if (dropdown) {
                const options = dropdown.querySelectorAll('option');
                log(`‚úÖ Service property dropdown has ${options.length} options`);
                
                // Check if it's populated (should be dynamic)
                if (options.length > 1) {
                    log('‚úÖ Service properties are populated');
                    log(`‚úÖ Properties: ${Array.from(options).map(opt => opt.value).join(', ')}`);
                } else {
                    log('‚ö†Ô∏è Service properties may not be populated yet');
                }
            } else {
                log('‚ùå Service property dropdown not found');
            }
        }

        function testBookingPropertyDropdown() {
            log(`\nüß™ Test ${++testCounter}: Booking Property Dropdown Test`);
            
            const dropdown = document.getElementById('test-booking-property');
            if (dropdown) {
                const options = dropdown.querySelectorAll('option');
                log(`‚úÖ Booking property dropdown has ${options.length} options`);
                
                // Check if it's populated (should be dynamic)
                if (options.length > 1) {
                    log('‚úÖ Booking properties are populated');
                    log(`‚úÖ Properties: ${Array.from(options).map(opt => opt.value).join(', ')}`);
                } else {
                    log('‚ö†Ô∏è Booking properties may not be populated yet');
                }
            } else {
                log('‚ùå Booking property dropdown not found');
            }
        }

        function testDropdownPopulation() {
            log(`\nüß™ Test ${++testCounter}: Dropdown Population Test`);
            
            // Test service category dropdown
            const serviceCategorySelect = document.getElementById('test-service-category-display');
            if (serviceCategorySelect) {
                serviceCategorySelect.innerHTML = '<option value="">Select Category</option>';
                
                // Simulate the categories we should have
                const testCategories = ['cleaning', 'maintenance', 'utilities', 'security'];
                testCategories.forEach(category => {
                    const option = document.createElement('option');
                    option.value = category;
                    option.textContent = category.charAt(0).toUpperCase() + category.slice(1);
                    serviceCategorySelect.appendChild(option);
                });
                
                log('‚úÖ Test service category dropdown populated');
            }

            // Test service property dropdown
            const servicePropertySelect = document.getElementById('test-service-property-display');
            if (servicePropertySelect) {
                servicePropertySelect.innerHTML = '<option value="">Select Property</option>';
                
                // Simulate the properties we should have
                const testProperties = ['Property 1', 'Property 2', 'Property 3'];
                testProperties.forEach((property, index) => {
                    const option = document.createElement('option');
                    option.value = `prop-${index + 1}`;
                    option.textContent = property;
                    servicePropertySelect.appendChild(option);
                });
                
                log('‚úÖ Test service property dropdown populated');
            }

            // Test property type dropdown
            const propertyTypeSelect = document.getElementById('test-property-type-display');
            if (propertyTypeSelect) {
                propertyTypeSelect.innerHTML = '<option value="">Select Type</option>';
                
                // These should remain hardcoded
                const hardcodedTypes = ['apartment', 'house', 'cottage', 'villa', 'studio'];
                hardcodedTypes.forEach(type => {
                    const option = document.createElement('option');
                    option.value = type;
                    option.textContent = type.charAt(0).toUpperCase() + type.slice(1);
                    propertyTypeSelect.appendChild(option);
                });
                
                log('‚úÖ Test property type dropdown populated (hardcoded options preserved)');
            }
        }

        function testServiceCategoriesSystem() {
            log(`\nüß™ Test ${++testCounter}: Service Categories System Test`);
            
            // Test if the services manager is available
            if (window.servicesManager) {
                log('‚úÖ Services manager is available');
                
                // Test service categories methods
                if (typeof window.servicesManager.getServiceCategories === 'function') {
                    log('‚úÖ getServiceCategories method available');
                    const categories = window.servicesManager.getServiceCategories();
                    log(`üìã Current service categories: ${categories.length} categories`);
                    log(`üìã Categories: ${categories.join(', ')}`);
                } else {
                    log('‚ùå getServiceCategories method not available');
                }

                if (typeof window.servicesManager.getServiceCategoriesStatus === 'function') {
                    log('‚úÖ getServiceCategoriesStatus method available');
                    const status = window.servicesManager.getServiceCategoriesStatus();
                    log(`üìä Service categories status: ${JSON.stringify(status, null, 2)}`);
                } else {
                    log('‚ùå getServiceCategoriesStatus method not available');
                }
            } else {
                log('‚ùå Services manager not available');
            }
        }

        function populateTestDropdowns() {
            log(`\nüß™ Test ${++testCounter}: Populate Test Dropdowns`);
            
            // Populate service category dropdown in the test form
            const serviceCategorySelect = document.getElementById('test-service-category');
            if (serviceCategorySelect) {
                // Clear existing options
                serviceCategorySelect.innerHTML = '<option value="">Select category</option>';
                
                // Try to get categories from services manager first
                if (window.servicesManager) {
                    const categories = window.servicesManager.getServiceCategories();
                    if (categories && categories.length > 0) {
                        // Add categories from the services manager
                        categories.forEach(category => {
                            const option = document.createElement('option');
                            option.value = category;
                            option.textContent = category.charAt(0).toUpperCase() + category.slice(1);
                            serviceCategorySelect.appendChild(option);
                        });
                        
                        log(`‚úÖ Service category dropdown populated with ${categories.length} categories from services manager`);
                        log(`üìã Categories added: ${categories.join(', ')}`);
                    } else {
                        // Fallback to hardcoded categories
                        populateWithHardcodedCategories(serviceCategorySelect);
                    }
                } else {
                    // Fallback to hardcoded categories
                    populateWithHardcodedCategories(serviceCategorySelect);
                }
            } else {
                log('‚ùå Service category dropdown not available');
            }

            // Populate service property dropdown in the test form
            const servicePropertySelect = document.getElementById('test-service-property');
            if (servicePropertySelect && window.apiService) {
                window.apiService.getProperties().then(properties => {
                    if (properties && properties.length > 0) {
                        // Clear existing options except the first one
                        servicePropertySelect.innerHTML = '<option value="">All Properties</option>';
                        
                        // Add properties from the mock API
                        properties.forEach(property => {
                            const option = document.createElement('option');
                            option.value = property.id;
                            option.textContent = property.name;
                            servicePropertySelect.appendChild(option);
                        });
                        
                        log(`‚úÖ Service property dropdown populated with ${properties.length} properties`);
                        log(`üìã Properties added: ${properties.map(p => p.name).join(', ')}`);
                    } else {
                        log('‚ö†Ô∏è No properties available from API');
                    }
                }).catch(error => {
                    log(`‚ùå Error loading properties: ${error.message}`);
                });
            } else {
                log('‚ùå Service property dropdown or API service not available');
            }

            // Populate booking property dropdown in the test form
            const bookingPropertySelect = document.getElementById('test-booking-property');
            if (bookingPropertySelect && window.apiService) {
                window.apiService.getProperties().then(properties => {
                    if (properties && properties.length > 0) {
                        // Clear existing options except the first one
                        bookingPropertySelect.innerHTML = '<option value="">Select property</option>';
                        
                        // Add properties from the mock API
                        properties.forEach(property => {
                            const option = document.createElement('option');
                            option.value = property.id;
                            option.textContent = property.name;
                            bookingPropertySelect.appendChild(option);
                        });
                        
                        log(`‚úÖ Booking property dropdown populated with ${properties.length} properties`);
                        log(`üìã Properties added: ${properties.map(p => p.name).join(', ')}`);
                    } else {
                        log('‚ö†Ô∏è No properties available from API');
                    }
                }).catch(error => {
                    log(`‚ùå Error loading properties: ${error.message}`);
                });
            } else {
                log('‚ùå Booking property dropdown or API service not available');
            }
        }

        function populateWithHardcodedCategories(selectElement) {
            // Standard service categories (these match what's in the services.js file)
            const standardCategories = [
                'cleaning', 'maintenance', 'repairs', 'inspection',
                'utilities', 'internet', 'electricity', 'water', 'gas', 'sewage',
                'security', 'fire-safety', 'alarm-system', 'cctv',
                'gardening', 'landscaping', 'pool-maintenance', 'exterior-painting',
                'laundry', 'housekeeping', 'deep-cleaning', 'carpet-cleaning',
                'insurance', 'licensing', 'permits', 'tax-services',
                'concierge', 'check-in', 'check-out', 'guest-support',
                'emergency-repairs', '24-7-support', 'urgent-maintenance'
            ];
            
            // Add standard categories
            standardCategories.forEach(category => {
                const option = document.createElement('option');
                option.value = category;
                option.textContent = category.charAt(0).toUpperCase() + category.slice(1);
                selectElement.appendChild(option);
            });
            
            log(`‚úÖ Service category dropdown populated with ${standardCategories.length} standard categories`);
            log(`üìã Standard categories added: ${standardCategories.join(', ')}`);
        }

        function testHardcodedFallback() {
            log(`\nüß™ Test ${++testCounter}: Test Standard Categories`);
            
            const serviceCategorySelect = document.getElementById('test-service-category');
            if (serviceCategorySelect) {
                log('üîÑ Testing standard categories for service categories...');
                populateWithHardcodedCategories(serviceCategorySelect);
                log('‚úÖ Standard categories test completed');
            } else {
                log('‚ùå Service category dropdown not found');
            }
        }
    </script>
</body>
</html>
